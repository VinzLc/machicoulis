{"ast":null,"code":"import _objectSpread from \"C:/Users/vinzl/workspace/machicoulis/daily-image-collector/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";\nimport { toBase64 } from '@smithy/util-base64';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nconst serializeAiContext = aiContext => JSON.stringify(aiContext);\nconst serializeContent = content => content.map(block => {\n  if (block.image) {\n    return serializeImageBlock(block);\n  }\n  if (block.document) {\n    return serializeDocumentBlock(block);\n  }\n  if (block.toolResult) {\n    return serializeToolResultBlock(block);\n  }\n  return block;\n});\nconst serializeToolConfiguration = _ref => {\n  let {\n    tools\n  } = _ref;\n  return {\n    tools: Object.entries(tools).map(_ref2 => {\n      let [name, tool] = _ref2;\n      return {\n        toolSpec: {\n          name,\n          description: tool.description,\n          inputSchema: {\n            json: JSON.stringify(tool.inputSchema.json)\n          }\n        }\n      };\n    })\n  };\n};\nconst serializeImageBlock = _ref3 => {\n  let {\n    image\n  } = _ref3;\n  return {\n    image: _objectSpread(_objectSpread({}, image), {}, {\n      source: _objectSpread(_objectSpread({}, image.source), {}, {\n        bytes: toBase64(image.source.bytes)\n      })\n    })\n  };\n};\nconst serializeDocumentBlock = _ref4 => {\n  let {\n    document\n  } = _ref4;\n  return {\n    document: _objectSpread(_objectSpread({}, document), {}, {\n      source: _objectSpread(_objectSpread({}, document.source), {}, {\n        bytes: toBase64(document.source.bytes)\n      })\n    })\n  };\n};\nconst serializeJsonBlock = _ref5 => {\n  let {\n    json\n  } = _ref5;\n  return {\n    json: JSON.stringify(json)\n  };\n};\nconst serializeToolResultBlock = _ref6 => {\n  let {\n    toolResult\n  } = _ref6;\n  return {\n    toolResult: _objectSpread(_objectSpread({}, toolResult), {}, {\n      content: toolResult.content.map(toolResultBlock => {\n        if (toolResultBlock.image) {\n          return serializeImageBlock(toolResultBlock);\n        }\n        if (toolResultBlock.json) {\n          return serializeJsonBlock(toolResultBlock);\n        }\n        return toolResultBlock;\n      })\n    })\n  };\n};\nexport { serializeAiContext, serializeContent, serializeToolConfiguration };","map":{"version":3,"names":["serializeAiContext","aiContext","JSON","stringify","serializeContent","content","map","block","image","serializeImageBlock","document","serializeDocumentBlock","toolResult","serializeToolResultBlock","serializeToolConfiguration","_ref","tools","Object","entries","_ref2","name","tool","toolSpec","description","inputSchema","json","_ref3","_objectSpread","source","bytes","toBase64","_ref4","serializeJsonBlock","_ref5","_ref6","toolResultBlock"],"sources":["C:\\Users\\vinzl\\workspace\\machicoulis\\daily-image-collector\\node_modules\\@aws-amplify\\data-schema\\src\\runtime\\internals\\ai\\conversationMessageSerializers.ts"],"sourcesContent":["// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nimport { toBase64 } from '@smithy/util-base64';\nexport const serializeAiContext = (aiContext) => JSON.stringify(aiContext);\nexport const serializeContent = (content) => content.map((block) => {\n    if (block.image) {\n        return serializeImageBlock(block);\n    }\n    if (block.document) {\n        return serializeDocumentBlock(block);\n    }\n    if (block.toolResult) {\n        return serializeToolResultBlock(block);\n    }\n    return block;\n});\nexport const serializeToolConfiguration = ({ tools }) => ({\n    tools: Object.entries(tools).map(([name, tool]) => ({\n        toolSpec: {\n            name,\n            description: tool.description,\n            inputSchema: {\n                json: JSON.stringify(tool.inputSchema.json),\n            },\n        },\n    })),\n});\nconst serializeImageBlock = ({ image }) => ({\n    image: {\n        ...image,\n        source: {\n            ...image.source,\n            bytes: toBase64(image.source.bytes),\n        },\n    },\n});\nconst serializeDocumentBlock = ({ document, }) => ({\n    document: {\n        ...document,\n        source: {\n            ...document.source,\n            bytes: toBase64(document.source.bytes),\n        },\n    },\n});\nconst serializeJsonBlock = ({ json }) => ({\n    json: JSON.stringify(json),\n});\nconst serializeToolResultBlock = ({ toolResult, }) => ({\n    toolResult: {\n        ...toolResult,\n        content: toolResult.content.map((toolResultBlock) => {\n            if (toolResultBlock.image) {\n                return serializeImageBlock(toolResultBlock);\n            }\n            if (toolResultBlock.json) {\n                return serializeJsonBlock(toolResultBlock);\n            }\n            return toolResultBlock;\n        }),\n    },\n});\n"],"mappings":";;;AAAA;AACA;AAEY,MAACA,kBAAkB,GAAIC,SAAS,IAAKC,IAAI,CAACC,SAAS,CAACF,SAAS;AAC7D,MAACG,gBAAgB,GAAIC,OAAO,IAAKA,OAAO,CAACC,GAAG,CAAEC,KAAK,IAAK;EAChE,IAAIA,KAAK,CAACC,KAAK,EAAE;IACb,OAAOC,mBAAmB,CAACF,KAAK,CAAC;EACzC;EACI,IAAIA,KAAK,CAACG,QAAQ,EAAE;IAChB,OAAOC,sBAAsB,CAACJ,KAAK,CAAC;EAC5C;EACI,IAAIA,KAAK,CAACK,UAAU,EAAE;IAClB,OAAOC,wBAAwB,CAACN,KAAK,CAAC;EAC9C;EACI,OAAOA,KAAK;AAChB,CAAC;AACW,MAACO,0BAA0B,GAAGC,IAAA;EAAA,IAAC;IAAEC;EAAK,CAAE,GAAAD,IAAA;EAAA,OAAM;IACtDC,KAAK,EAAEC,MAAM,CAACC,OAAO,CAACF,KAAK,CAAC,CAACV,GAAG,CAACa,KAAA;MAAA,IAAC,CAACC,IAAI,EAAEC,IAAI,CAAC,GAAAF,KAAA;MAAA,OAAM;QAChDG,QAAQ,EAAE;UACNF,IAAI;UACJG,WAAW,EAAEF,IAAI,CAACE,WAAW;UAC7BC,WAAW,EAAE;YACTC,IAAI,EAAEvB,IAAI,CAACC,SAAS,CAACkB,IAAI,CAACG,WAAW,CAACC,IAAI;UAC1D;QACA;MACA,CAAK;IAAA,CAAC;EACN,CAAC;AAAA;AACD,MAAMhB,mBAAmB,GAAGiB,KAAA;EAAA,IAAC;IAAElB;EAAK,CAAE,GAAAkB,KAAA;EAAA,OAAM;IACxClB,KAAK,EAAAmB,aAAA,CAAAA,aAAA,KACEnB,KAAK;MACRoB,MAAM,EAAAD,aAAA,CAAAA,aAAA,KACCnB,KAAK,CAACoB,MAAM;QACfC,KAAK,EAAEC,QAAQ,CAACtB,KAAK,CAACoB,MAAM,CAACC,KAAK;MAAC;IACtC;EAET,CAAC;AAAA,CAAC;AACF,MAAMlB,sBAAsB,GAAGoB,KAAA;EAAA,IAAC;IAAErB;EAAQ,CAAG,GAAAqB,KAAA;EAAA,OAAM;IAC/CrB,QAAQ,EAAAiB,aAAA,CAAAA,aAAA,KACDjB,QAAQ;MACXkB,MAAM,EAAAD,aAAA,CAAAA,aAAA,KACCjB,QAAQ,CAACkB,MAAM;QAClBC,KAAK,EAAEC,QAAQ,CAACpB,QAAQ,CAACkB,MAAM,CAACC,KAAK;MAAC;IACzC;EAET,CAAC;AAAA,CAAC;AACF,MAAMG,kBAAkB,GAAGC,KAAA;EAAA,IAAC;IAAER;EAAI,CAAE,GAAAQ,KAAA;EAAA,OAAM;IACtCR,IAAI,EAAEvB,IAAI,CAACC,SAAS,CAACsB,IAAI;EAC7B,CAAC;AAAA,CAAC;AACF,MAAMZ,wBAAwB,GAAGqB,KAAA;EAAA,IAAC;IAAEtB;EAAU,CAAG,GAAAsB,KAAA;EAAA,OAAM;IACnDtB,UAAU,EAAAe,aAAA,CAAAA,aAAA,KACHf,UAAU;MACbP,OAAO,EAAEO,UAAU,CAACP,OAAO,CAACC,GAAG,CAAE6B,eAAe,IAAK;QACjD,IAAIA,eAAe,CAAC3B,KAAK,EAAE;UACvB,OAAOC,mBAAmB,CAAC0B,eAAe,CAAC;QAC3D;QACY,IAAIA,eAAe,CAACV,IAAI,EAAE;UACtB,OAAOO,kBAAkB,CAACG,eAAe,CAAC;QAC1D;QACY,OAAOA,eAAe;MAClC,CAAS;IAAC;EAEV,CAAC;AAAA,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}