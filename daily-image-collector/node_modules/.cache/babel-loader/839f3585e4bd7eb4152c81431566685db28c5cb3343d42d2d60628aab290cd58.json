{"ast":null,"code":"'use strict';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getAmplifyUserAgent = exports.getAmplifyUserAgentObject = exports.Platform = exports.sanitizeAmplifyVersion = void 0;\nconst types_1 = require(\"./types\");\nconst version_1 = require(\"./version\");\nconst detectFramework_1 = require(\"./detectFramework\");\nconst customUserAgent_1 = require(\"./customUserAgent\");\nconst BASE_USER_AGENT = `aws-amplify`;\n/** Sanitize Amplify version string be removing special character + and character post the special character  */\nconst sanitizeAmplifyVersion = amplifyVersion => amplifyVersion.replace(/\\+.*/, '');\nexports.sanitizeAmplifyVersion = sanitizeAmplifyVersion;\nclass PlatformBuilder {\n  constructor() {\n    this.userAgent = `${BASE_USER_AGENT}/${(0, exports.sanitizeAmplifyVersion)(version_1.version)}`;\n  }\n  get framework() {\n    return (0, detectFramework_1.detectFramework)();\n  }\n  get isReactNative() {\n    return this.framework === types_1.Framework.ReactNative || this.framework === types_1.Framework.Expo;\n  }\n  observeFrameworkChanges(fcn) {\n    (0, detectFramework_1.observeFrameworkChanges)(fcn);\n  }\n}\nexports.Platform = new PlatformBuilder();\nconst getAmplifyUserAgentObject = ({\n  category,\n  action\n} = {}) => {\n  const userAgent = [[BASE_USER_AGENT, (0, exports.sanitizeAmplifyVersion)(version_1.version)]];\n  if (category) {\n    userAgent.push([category, action]);\n  }\n  userAgent.push(['framework', (0, detectFramework_1.detectFramework)()]);\n  if (category && action) {\n    const customState = (0, customUserAgent_1.getCustomUserAgent)(category, action);\n    if (customState) {\n      customState.forEach(state => {\n        userAgent.push(state);\n      });\n    }\n  }\n  return userAgent;\n};\nexports.getAmplifyUserAgentObject = getAmplifyUserAgentObject;\nconst getAmplifyUserAgent = customUserAgentDetails => {\n  const userAgent = (0, exports.getAmplifyUserAgentObject)(customUserAgentDetails);\n  const userAgentString = userAgent.map(([agentKey, agentValue]) => agentKey && agentValue ? `${agentKey}/${agentValue}` : agentKey).join(' ');\n  return userAgentString;\n};\nexports.getAmplifyUserAgent = getAmplifyUserAgent;","map":{"version":3,"names":["Object","defineProperty","exports","value","getAmplifyUserAgent","getAmplifyUserAgentObject","Platform","sanitizeAmplifyVersion","types_1","require","version_1","detectFramework_1","customUserAgent_1","BASE_USER_AGENT","amplifyVersion","replace","PlatformBuilder","constructor","userAgent","version","framework","detectFramework","isReactNative","Framework","ReactNative","Expo","observeFrameworkChanges","fcn","category","action","push","customState","getCustomUserAgent","forEach","state","customUserAgentDetails","userAgentString","map","agentKey","agentValue","join"],"sources":["C:\\Users\\vinzl\\workspace\\machicoulis\\daily-image-collector\\node_modules\\@aws-amplify\\core\\src\\Platform\\index.ts"],"sourcesContent":["\"use strict\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getAmplifyUserAgent = exports.getAmplifyUserAgentObject = exports.Platform = exports.sanitizeAmplifyVersion = void 0;\nconst types_1 = require(\"./types\");\nconst version_1 = require(\"./version\");\nconst detectFramework_1 = require(\"./detectFramework\");\nconst customUserAgent_1 = require(\"./customUserAgent\");\nconst BASE_USER_AGENT = `aws-amplify`;\n/** Sanitize Amplify version string be removing special character + and character post the special character  */\nconst sanitizeAmplifyVersion = (amplifyVersion) => amplifyVersion.replace(/\\+.*/, '');\nexports.sanitizeAmplifyVersion = sanitizeAmplifyVersion;\nclass PlatformBuilder {\n    constructor() {\n        this.userAgent = `${BASE_USER_AGENT}/${(0, exports.sanitizeAmplifyVersion)(version_1.version)}`;\n    }\n    get framework() {\n        return (0, detectFramework_1.detectFramework)();\n    }\n    get isReactNative() {\n        return (this.framework === types_1.Framework.ReactNative ||\n            this.framework === types_1.Framework.Expo);\n    }\n    observeFrameworkChanges(fcn) {\n        (0, detectFramework_1.observeFrameworkChanges)(fcn);\n    }\n}\nexports.Platform = new PlatformBuilder();\nconst getAmplifyUserAgentObject = ({ category, action, } = {}) => {\n    const userAgent = [\n        [BASE_USER_AGENT, (0, exports.sanitizeAmplifyVersion)(version_1.version)],\n    ];\n    if (category) {\n        userAgent.push([category, action]);\n    }\n    userAgent.push(['framework', (0, detectFramework_1.detectFramework)()]);\n    if (category && action) {\n        const customState = (0, customUserAgent_1.getCustomUserAgent)(category, action);\n        if (customState) {\n            customState.forEach(state => {\n                userAgent.push(state);\n            });\n        }\n    }\n    return userAgent;\n};\nexports.getAmplifyUserAgentObject = getAmplifyUserAgentObject;\nconst getAmplifyUserAgent = (customUserAgentDetails) => {\n    const userAgent = (0, exports.getAmplifyUserAgentObject)(customUserAgentDetails);\n    const userAgentString = userAgent\n        .map(([agentKey, agentValue]) => agentKey && agentValue ? `${agentKey}/${agentValue}` : agentKey)\n        .join(' ');\n    return userAgentString;\n};\nexports.getAmplifyUserAgent = getAmplifyUserAgent;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}