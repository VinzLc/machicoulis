{"ast":null,"code":"'use strict';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.cacheEndpointId = void 0;\nconst Cache_1 = require(\"../../../Cache\");\nconst getCacheKey_1 = require(\"./getCacheKey\");\n/**\n * Writes an endpoint id to a long-lived cache.\n *\n * @internal\n */\nconst cacheEndpointId = async (appId, category, endpointId) => {\n  const cacheKey = (0, getCacheKey_1.getCacheKey)(appId, category);\n  // Set a longer TTL to avoid endpoint id being deleted after the default TTL (3 days)\n  // Also set its priority to the highest to reduce its chance of being deleted when cache is full\n  const ttl = 1000 * 60 * 60 * 24 * 365 * 100; // 100 years\n  const expiration = new Date().getTime() + ttl;\n  return Cache_1.Cache.setItem(cacheKey, endpointId, {\n    expires: expiration,\n    priority: 1\n  });\n};\nexports.cacheEndpointId = cacheEndpointId;","map":{"version":3,"names":["Object","defineProperty","exports","value","cacheEndpointId","Cache_1","require","getCacheKey_1","appId","category","endpointId","cacheKey","getCacheKey","ttl","expiration","Date","getTime","Cache","setItem","expires","priority"],"sources":["C:\\Users\\vinzl\\workspace\\machicoulis\\daily-image-collector\\node_modules\\@aws-amplify\\core\\src\\providers\\pinpoint\\utils\\cacheEndpointId.ts"],"sourcesContent":["\"use strict\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.cacheEndpointId = void 0;\nconst Cache_1 = require(\"../../../Cache\");\nconst getCacheKey_1 = require(\"./getCacheKey\");\n/**\n * Writes an endpoint id to a long-lived cache.\n *\n * @internal\n */\nconst cacheEndpointId = async (appId, category, endpointId) => {\n    const cacheKey = (0, getCacheKey_1.getCacheKey)(appId, category);\n    // Set a longer TTL to avoid endpoint id being deleted after the default TTL (3 days)\n    // Also set its priority to the highest to reduce its chance of being deleted when cache is full\n    const ttl = 1000 * 60 * 60 * 24 * 365 * 100; // 100 years\n    const expiration = new Date().getTime() + ttl;\n    return Cache_1.Cache.setItem(cacheKey, endpointId, {\n        expires: expiration,\n        priority: 1,\n    });\n};\nexports.cacheEndpointId = cacheEndpointId;\n"],"mappings":";;AACA;AACA;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7DD,OAAO,CAACE,eAAe,GAAG,MAAM;AAChC,MAAMC,OAAO,GAAGC,OAAO,CAAC,gBAAgB,CAAC;AACzC,MAAMC,aAAa,GAAGD,OAAO,CAAC,eAAe,CAAC;AAC9C;AACA;AACA;AACA;AACA;AACA,MAAMF,eAAe,GAAG,MAAAA,CAAOI,KAAK,EAAEC,QAAQ,EAAEC,UAAU,KAAK;EAC3D,MAAMC,QAAQ,GAAG,IAAIJ,aAAa,CAACK,WAAW,EAAEJ,KAAK,EAAEC,QAAQ,CAAC;EACpE;EACA;EACI,MAAMI,GAAG,GAAG,IAAI,GAAG,EAAE,GAAG,EAAE,GAAG,EAAE,GAAG,GAAG,GAAG,GAAG,CAAC;EAC5C,MAAMC,UAAU,GAAG,IAAIC,IAAI,EAAE,CAACC,OAAO,EAAE,GAAGH,GAAG;EAC7C,OAAOR,OAAO,CAACY,KAAK,CAACC,OAAO,CAACP,QAAQ,EAAED,UAAU,EAAE;IAC/CS,OAAO,EAAEL,UAAU;IACnBM,QAAQ,EAAE;EAClB,CAAK,CAAC;AACN,CAAC;AACDlB,OAAO,CAACE,eAAe,GAAGA,eAAe","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}