{"ast":null,"code":"'use strict';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.CookieStorage = void 0;\nconst tslib_1 = require(\"tslib\");\nconst js_cookie_1 = tslib_1.__importDefault(require(\"js-cookie\"));\nclass CookieStorage {\n  constructor(data = {}) {\n    const {\n      path,\n      domain,\n      expires,\n      sameSite,\n      secure\n    } = data;\n    this.domain = domain;\n    this.path = path || '/';\n    this.expires = Object.prototype.hasOwnProperty.call(data, 'expires') ? expires : 365;\n    this.secure = Object.prototype.hasOwnProperty.call(data, 'secure') ? secure : true;\n    if (Object.prototype.hasOwnProperty.call(data, 'sameSite')) {\n      if (!sameSite || !['strict', 'lax', 'none'].includes(sameSite)) {\n        throw new Error('The sameSite value of cookieStorage must be \"lax\", \"strict\" or \"none\".');\n      }\n      if (sameSite === 'none' && !this.secure) {\n        throw new Error('sameSite = None requires the Secure attribute in latest browser versions.');\n      }\n      this.sameSite = sameSite;\n    }\n  }\n  async setItem(key, value) {\n    js_cookie_1.default.set(key, value, this.getData());\n  }\n  async getItem(key) {\n    const item = js_cookie_1.default.get(key);\n    return item ?? null;\n  }\n  async removeItem(key) {\n    js_cookie_1.default.remove(key, this.getData());\n  }\n  async clear() {\n    const cookie = js_cookie_1.default.get();\n    const promises = Object.keys(cookie).map(key => this.removeItem(key));\n    await Promise.all(promises);\n  }\n  getData() {\n    return {\n      path: this.path,\n      expires: this.expires,\n      domain: this.domain,\n      secure: this.secure,\n      ...(this.sameSite && {\n        sameSite: this.sameSite\n      })\n    };\n  }\n}\nexports.CookieStorage = CookieStorage;","map":{"version":3,"names":["Object","defineProperty","exports","value","CookieStorage","tslib_1","require","js_cookie_1","__importDefault","constructor","data","path","domain","expires","sameSite","secure","prototype","hasOwnProperty","call","includes","Error","setItem","key","default","set","getData","getItem","item","get","removeItem","remove","clear","cookie","promises","keys","map","Promise","all"],"sources":["C:\\Users\\vinzl\\workspace\\machicoulis\\daily-image-collector\\node_modules\\@aws-amplify\\core\\src\\storage\\CookieStorage.ts"],"sourcesContent":["\"use strict\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CookieStorage = void 0;\nconst tslib_1 = require(\"tslib\");\nconst js_cookie_1 = tslib_1.__importDefault(require(\"js-cookie\"));\nclass CookieStorage {\n    constructor(data = {}) {\n        const { path, domain, expires, sameSite, secure } = data;\n        this.domain = domain;\n        this.path = path || '/';\n        this.expires = Object.prototype.hasOwnProperty.call(data, 'expires')\n            ? expires\n            : 365;\n        this.secure = Object.prototype.hasOwnProperty.call(data, 'secure')\n            ? secure\n            : true;\n        if (Object.prototype.hasOwnProperty.call(data, 'sameSite')) {\n            if (!sameSite || !['strict', 'lax', 'none'].includes(sameSite)) {\n                throw new Error('The sameSite value of cookieStorage must be \"lax\", \"strict\" or \"none\".');\n            }\n            if (sameSite === 'none' && !this.secure) {\n                throw new Error('sameSite = None requires the Secure attribute in latest browser versions.');\n            }\n            this.sameSite = sameSite;\n        }\n    }\n    async setItem(key, value) {\n        js_cookie_1.default.set(key, value, this.getData());\n    }\n    async getItem(key) {\n        const item = js_cookie_1.default.get(key);\n        return item ?? null;\n    }\n    async removeItem(key) {\n        js_cookie_1.default.remove(key, this.getData());\n    }\n    async clear() {\n        const cookie = js_cookie_1.default.get();\n        const promises = Object.keys(cookie).map(key => this.removeItem(key));\n        await Promise.all(promises);\n    }\n    getData() {\n        return {\n            path: this.path,\n            expires: this.expires,\n            domain: this.domain,\n            secure: this.secure,\n            ...(this.sameSite && { sameSite: this.sameSite }),\n        };\n    }\n}\nexports.CookieStorage = CookieStorage;\n"],"mappings":";;AACA;AACA;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7DD,OAAO,CAACE,aAAa,GAAG,MAAM;AAC9B,MAAMC,OAAO,GAAGC,OAAO,CAAC,OAAO,CAAC;AAChC,MAAMC,WAAW,GAAGF,OAAO,CAACG,eAAe,CAACF,OAAO,CAAC,WAAW,CAAC,CAAC;AACjE,MAAMF,aAAa,CAAC;EAChBK,WAAWA,CAACC,IAAI,GAAG,EAAE,EAAE;IACnB,MAAM;MAAEC,IAAI;MAAEC,MAAM;MAAEC,OAAO;MAAEC,QAAQ;MAAEC;IAAM,CAAE,GAAGL,IAAI;IACxD,IAAI,CAACE,MAAM,GAAGA,MAAM;IACpB,IAAI,CAACD,IAAI,GAAGA,IAAI,IAAI,GAAG;IACvB,IAAI,CAACE,OAAO,GAAGb,MAAM,CAACgB,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,IAAI,EAAE,SAAS,IAC7DG,OAAA,GACA,GAAG;IACT,IAAI,CAACE,MAAM,GAAGf,MAAM,CAACgB,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,IAAI,EAAE,QAAQ,IAC3DK,MAAA,GACA,IAAI;IACV,IAAIf,MAAM,CAACgB,SAAS,CAACC,cAAc,CAACC,IAAI,CAACR,IAAI,EAAE,UAAU,CAAC,EAAE;MACxD,IAAI,CAACI,QAAQ,IAAI,CAAC,CAAC,QAAQ,EAAE,KAAK,EAAE,MAAM,CAAC,CAACK,QAAQ,CAACL,QAAQ,CAAC,EAAE;QAC5D,MAAM,IAAIM,KAAK,CAAC,wEAAwE,CAAC;MACzG;MACY,IAAIN,QAAQ,KAAK,MAAM,IAAI,CAAC,IAAI,CAACC,MAAM,EAAE;QACrC,MAAM,IAAIK,KAAK,CAAC,2EAA2E,CAAC;MAC5G;MACY,IAAI,CAACN,QAAQ,GAAGA,QAAQ;IACpC;EACA;EACI,MAAMO,OAAOA,CAACC,GAAG,EAAEnB,KAAK,EAAE;IACtBI,WAAW,CAACgB,OAAO,CAACC,GAAG,CAACF,GAAG,EAAEnB,KAAK,EAAE,IAAI,CAACsB,OAAO,EAAE,CAAC;EAC3D;EACI,MAAMC,OAAOA,CAACJ,GAAG,EAAE;IACf,MAAMK,IAAI,GAAGpB,WAAW,CAACgB,OAAO,CAACK,GAAG,CAACN,GAAG,CAAC;IACzC,OAAOK,IAAI,IAAI,IAAI;EAC3B;EACI,MAAME,UAAUA,CAACP,GAAG,EAAE;IAClBf,WAAW,CAACgB,OAAO,CAACO,MAAM,CAACR,GAAG,EAAE,IAAI,CAACG,OAAO,EAAE,CAAC;EACvD;EACI,MAAMM,KAAKA,CAAA,EAAG;IACV,MAAMC,MAAM,GAAGzB,WAAW,CAACgB,OAAO,CAACK,GAAG,EAAE;IACxC,MAAMK,QAAQ,GAAGjC,MAAM,CAACkC,IAAI,CAACF,MAAM,CAAC,CAACG,GAAG,CAACb,GAAG,IAAI,IAAI,CAACO,UAAU,CAACP,GAAG,CAAC,CAAC;IACrE,MAAMc,OAAO,CAACC,GAAG,CAACJ,QAAQ,CAAC;EACnC;EACIR,OAAOA,CAAA,EAAG;IACN,OAAO;MACHd,IAAI,EAAE,IAAI,CAACA,IAAI;MACfE,OAAO,EAAE,IAAI,CAACA,OAAO;MACrBD,MAAM,EAAE,IAAI,CAACA,MAAM;MACnBG,MAAM,EAAE,IAAI,CAACA,MAAM;MACnB,IAAI,IAAI,CAACD,QAAQ,IAAI;QAAEA,QAAQ,EAAE,IAAI,CAACA;MAAQ,CAAE;IAC5D,CAAS;EACT;AACA;AACAZ,OAAO,CAACE,aAAa,GAAGA,aAAa","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}