{"ast":null,"code":"// src/components/CollectionScreen.js\nimport React,{useMemo,useState}from'react';import{Home,BookOpen,Grid3X3}from'lucide-react';import PokedexView from'./PokedexView';import CardSetView from'./CardSetView';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const CollectionScreen=_ref=>{let{userCollection,imageDatabase,setCurrentView,setSelectedImage}=_ref;const[currentSubView,setCurrentSubView]=useState('pokedex');// 'pokedex' or 'cardset'\nconst collectedCount=useMemo(()=>{return imageDatabase.filter(templateImage=>{return userCollection.some(item=>{const itemId=item.id||item.imageID;const templateId=templateImage.id;return String(itemId).split('_')[0]===String(templateId)||String(itemId)===String(templateId)||item.name===templateImage.name||item.imageName===templateImage.name;});}).length;},[userCollection,imageDatabase]);return/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen p-2 sm:p-4 relative\",style:{backgroundImage:\"url('https://machicoulis-20250704132620-hostingbucket-machicouli.s3.us-east-1.amazonaws.com/common/machicoulis.png')\",backgroundSize:'cover',backgroundPosition:'center',backgroundRepeat:'no-repeat',backgroundAttachment:'fixed'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute inset-0 bg-black bg-opacity-50\"}),/*#__PURE__*/_jsx(\"div\",{className:\"relative z-10 max-w-6xl mx-auto\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-xl overflow-hidden\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4 sm:p-6 bg-opacity-95 backdrop-blur-sm\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"text-center sm:text-left\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-xl sm:text-2xl font-bold mb-1\",children:\"\\uD83D\\uDCDA Collection Machicoulis\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-center sm:justify-start space-x-2\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"bg-white bg-opacity-20 rounded-full px-3 py-1\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[collectedCount,\"/\",imageDatabase.length,\" Discovered\"]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white bg-opacity-20 rounded-full px-3 py-1\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-sm font-medium\",children:[Math.round(collectedCount/imageDatabase.length*100),\"%\"]})})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center sm:justify-end\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentView('home'),className:\"flex items-center justify-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg text-sm font-medium transition-all w-full sm:w-auto\",children:[/*#__PURE__*/_jsx(Home,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Back Home\"})]})})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-50 bg-opacity-95 backdrop-blur-sm border-b border-gray-200 px-4 sm:px-6\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-center space-x-1\",children:[/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentSubView('pokedex'),className:\"flex items-center space-x-2 px-4 py-3 text-sm font-medium transition-all \".concat(currentSubView==='pokedex'?'border-b-2 border-purple-500 text-purple-600 bg-white bg-opacity-90':'text-gray-600 hover:text-gray-800 hover:bg-gray-100 hover:bg-opacity-90',\" rounded-t-lg backdrop-blur-sm\"),children:[/*#__PURE__*/_jsx(BookOpen,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Pok\\xE9dex View\"})]}),/*#__PURE__*/_jsxs(\"button\",{onClick:()=>setCurrentSubView('cardset'),className:\"flex items-center space-x-2 px-4 py-3 text-sm font-medium transition-all \".concat(currentSubView==='cardset'?'border-b-2 border-purple-500 text-purple-600 bg-white bg-opacity-90':'text-gray-600 hover:text-gray-800 hover:bg-gray-100 hover:bg-opacity-90',\" rounded-t-lg backdrop-blur-sm\"),children:[/*#__PURE__*/_jsx(Grid3X3,{className:\"h-4 w-4\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Card Set View\"})]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"p-4 sm:p-6 bg-white bg-opacity-95 backdrop-blur-sm\",children:currentSubView==='pokedex'?/*#__PURE__*/_jsx(PokedexView,{userCollection:userCollection,imageDatabase:imageDatabase,setSelectedImage:setSelectedImage}):/*#__PURE__*/_jsx(CardSetView,{userCollection:userCollection,imageDatabase:imageDatabase,setSelectedImage:setSelectedImage})})]})})]});};export default CollectionScreen;","map":{"version":3,"names":["React","useMemo","useState","Home","BookOpen","Grid3X3","PokedexView","CardSetView","jsx","_jsx","jsxs","_jsxs","CollectionScreen","_ref","userCollection","imageDatabase","setCurrentView","setSelectedImage","currentSubView","setCurrentSubView","collectedCount","filter","templateImage","some","item","itemId","id","imageID","templateId","String","split","name","imageName","length","className","style","backgroundImage","backgroundSize","backgroundPosition","backgroundRepeat","backgroundAttachment","children","Math","round","onClick","concat"],"sources":["C:/Users/vinzl/workspace/machicoulis/daily-image-collector/src/components/CollectionScreen.js"],"sourcesContent":["// src/components/CollectionScreen.js\r\n\r\nimport React, { useMemo, useState } from 'react';\r\nimport { Home, BookOpen, Grid3X3 } from 'lucide-react';\r\nimport PokedexView from './PokedexView';\r\nimport CardSetView from './CardSetView';\r\n\r\nconst CollectionScreen = ({\r\n  userCollection,\r\n  imageDatabase,\r\n  setCurrentView,\r\n  setSelectedImage,\r\n}) => {\r\n  const [currentSubView, setCurrentSubView] = useState('pokedex'); // 'pokedex' or 'cardset'\r\n\r\n  const collectedCount = useMemo(() => {\r\n    return imageDatabase.filter((templateImage) => {\r\n      return userCollection.some(item => {\r\n        const itemId = item.id || item.imageID;\r\n        const templateId = templateImage.id;\r\n        return String(itemId).split('_')[0] === String(templateId) ||\r\n               String(itemId) === String(templateId) ||\r\n               item.name === templateImage.name ||\r\n               item.imageName === templateImage.name;\r\n      });\r\n    }).length;\r\n  }, [userCollection, imageDatabase]);\r\n\r\n  return (\r\n    <div \r\n      className=\"min-h-screen p-2 sm:p-4 relative\"\r\n      style={{\r\n        backgroundImage: `url('https://machicoulis-20250704132620-hostingbucket-machicouli.s3.us-east-1.amazonaws.com/common/machicoulis.png')`,\r\n        backgroundSize: 'cover',\r\n        backgroundPosition: 'center',\r\n        backgroundRepeat: 'no-repeat',\r\n        backgroundAttachment: 'fixed'\r\n      }}\r\n    >\r\n      {/* Background overlay for better readability */}\r\n      <div className=\"absolute inset-0 bg-black bg-opacity-50\"></div>\r\n      \r\n      {/* Content */}\r\n      <div className=\"relative z-10 max-w-6xl mx-auto\">\r\n        <div className=\"bg-white bg-opacity-95 backdrop-blur-sm rounded-lg shadow-xl overflow-hidden\">\r\n          {/* Enhanced Mobile-Friendly Header */}\r\n          <div className=\"bg-gradient-to-r from-purple-600 to-blue-600 text-white p-4 sm:p-6 bg-opacity-95 backdrop-blur-sm\">\r\n            <div className=\"flex flex-col space-y-4\">\r\n              {/* Title and Progress */}\r\n              <div className=\"text-center sm:text-left\">\r\n                <h2 className=\"text-xl sm:text-2xl font-bold mb-1\">\r\n                  ðŸ“š Collection Machicoulis\r\n                </h2>\r\n                <div className=\"flex items-center justify-center sm:justify-start space-x-2\">\r\n                  <div className=\"bg-white bg-opacity-20 rounded-full px-3 py-1\">\r\n                    <span className=\"text-sm font-medium\">\r\n                      {collectedCount}/{imageDatabase.length} Discovered\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"bg-white bg-opacity-20 rounded-full px-3 py-1\">\r\n                    <span className=\"text-sm font-medium\">\r\n                      {Math.round((collectedCount / imageDatabase.length) * 100)}%\r\n                    </span>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n              \r\n              {/* Home Button - Always Visible */}\r\n              <div className=\"flex justify-center sm:justify-end\">\r\n                <button\r\n                  onClick={() => setCurrentView('home')}\r\n                  className=\"flex items-center justify-center space-x-2 bg-white bg-opacity-20 hover:bg-opacity-30 px-4 py-2 rounded-lg text-sm font-medium transition-all w-full sm:w-auto\"\r\n                >\r\n                  <Home className=\"h-4 w-4\" />\r\n                  <span>Back Home</span>\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Submenu */}\r\n          <div className=\"bg-gray-50 bg-opacity-95 backdrop-blur-sm border-b border-gray-200 px-4 sm:px-6\">\r\n            <div className=\"flex justify-center space-x-1\">\r\n              <button\r\n                onClick={() => setCurrentSubView('pokedex')}\r\n                className={`flex items-center space-x-2 px-4 py-3 text-sm font-medium transition-all ${\r\n                  currentSubView === 'pokedex'\r\n                    ? 'border-b-2 border-purple-500 text-purple-600 bg-white bg-opacity-90'\r\n                    : 'text-gray-600 hover:text-gray-800 hover:bg-gray-100 hover:bg-opacity-90'\r\n                } rounded-t-lg backdrop-blur-sm`}\r\n              >\r\n                <BookOpen className=\"h-4 w-4\" />\r\n                <span>PokÃ©dex View</span>\r\n              </button>\r\n              <button\r\n                onClick={() => setCurrentSubView('cardset')}\r\n                className={`flex items-center space-x-2 px-4 py-3 text-sm font-medium transition-all ${\r\n                  currentSubView === 'cardset'\r\n                    ? 'border-b-2 border-purple-500 text-purple-600 bg-white bg-opacity-90'\r\n                    : 'text-gray-600 hover:text-gray-800 hover:bg-gray-100 hover:bg-opacity-90'\r\n                } rounded-t-lg backdrop-blur-sm`}\r\n              >\r\n                <Grid3X3 className=\"h-4 w-4\" />\r\n                <span>Card Set View</span>\r\n              </button>\r\n            </div>\r\n          </div>\r\n          \r\n          {/* Content */}\r\n          <div className=\"p-4 sm:p-6 bg-white bg-opacity-95 backdrop-blur-sm\">\r\n            {currentSubView === 'pokedex' ? (\r\n              <PokedexView\r\n                userCollection={userCollection}\r\n                imageDatabase={imageDatabase}\r\n                setSelectedImage={setSelectedImage}\r\n              />\r\n            ) : (\r\n              <CardSetView\r\n                userCollection={userCollection}\r\n                imageDatabase={imageDatabase}\r\n                setSelectedImage={setSelectedImage}\r\n              />\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CollectionScreen;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}