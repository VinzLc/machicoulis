{"ast":null,"code":"import { useState } from 'react';\nimport { isFunction } from '@aws-amplify/ui';\nimport { filterAllowedFiles } from '../utils/filterAllowedFiles.mjs';\nimport { processDroppedItems } from '../utils/processDroppedItems.mjs';\nfunction useDropZone({\n  onDropComplete,\n  onDragEnter: _onDragEnter,\n  onDragLeave: _onDragLeave,\n  onDragOver: _onDragOver,\n  onDragStart: _onDragStart,\n  onDrop: _onDrop,\n  acceptedFileTypes = []\n}) {\n  const [dragState, setDragState] = useState('inactive');\n  const onDragStart = event => {\n    event.dataTransfer.clearData();\n    if (isFunction(_onDragStart)) {\n      _onDragStart(event);\n    }\n  };\n  const onDragEnter = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    if (isFunction(_onDragEnter)) {\n      _onDragEnter(event);\n    }\n  };\n  const onDragLeave = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    setDragState('inactive');\n    if (isFunction(_onDragLeave)) {\n      _onDragLeave(event);\n    }\n  };\n  const onDragOver = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    event.dataTransfer.dropEffect = 'copy';\n    if (isFunction(_onDragOver)) {\n      _onDragOver(event);\n    }\n    const files = Array.from(event.dataTransfer.items).map(({\n      kind,\n      type\n    }) => ({\n      kind,\n      type\n    }));\n    const {\n      rejectedFiles\n    } = filterAllowedFiles(files, acceptedFileTypes);\n    setDragState(rejectedFiles.length > 0 ? 'reject' : 'accept');\n  };\n  const onDrop = event => {\n    event.preventDefault();\n    event.stopPropagation();\n    setDragState('inactive');\n    const {\n      files,\n      items\n    } = event.dataTransfer;\n    if (isFunction(_onDrop)) {\n      _onDrop(event);\n    }\n    const completeDrop = files => {\n      const {\n        acceptedFiles,\n        rejectedFiles\n      } = filterAllowedFiles(files, acceptedFileTypes);\n      if (isFunction(onDropComplete)) {\n        onDropComplete({\n          acceptedFiles,\n          rejectedFiles\n        });\n      }\n    };\n    if (!items) {\n      completeDrop(Array.from(files));\n    } else {\n      processDroppedItems(Array.from(items)).then(completeDrop);\n    }\n  };\n  return {\n    onDragStart,\n    onDragEnter,\n    onDragLeave,\n    onDragOver,\n    onDrop,\n    dragState\n  };\n}\nexport { useDropZone as default };","map":{"version":3,"names":["useState","isFunction","filterAllowedFiles","processDroppedItems","useDropZone","onDropComplete","onDragEnter","_onDragEnter","onDragLeave","_onDragLeave","onDragOver","_onDragOver","onDragStart","_onDragStart","onDrop","_onDrop","acceptedFileTypes","dragState","setDragState","event","dataTransfer","clearData","preventDefault","stopPropagation","dropEffect","files","Array","from","items","map","kind","type","rejectedFiles","length","completeDrop","acceptedFiles","then","default"],"sources":["C:/Users/vinzl/workspace/machicoulis/daily-image-collector/node_modules/@aws-amplify/ui-react-core/dist/esm/hooks/useDropZone.mjs"],"sourcesContent":["import { useState } from 'react';\nimport { isFunction } from '@aws-amplify/ui';\nimport { filterAllowedFiles } from '../utils/filterAllowedFiles.mjs';\nimport { processDroppedItems } from '../utils/processDroppedItems.mjs';\n\nfunction useDropZone({ onDropComplete, onDragEnter: _onDragEnter, onDragLeave: _onDragLeave, onDragOver: _onDragOver, onDragStart: _onDragStart, onDrop: _onDrop, acceptedFileTypes = [], }) {\n    const [dragState, setDragState] = useState('inactive');\n    const onDragStart = (event) => {\n        event.dataTransfer.clearData();\n        if (isFunction(_onDragStart)) {\n            _onDragStart(event);\n        }\n    };\n    const onDragEnter = (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        if (isFunction(_onDragEnter)) {\n            _onDragEnter(event);\n        }\n    };\n    const onDragLeave = (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        setDragState('inactive');\n        if (isFunction(_onDragLeave)) {\n            _onDragLeave(event);\n        }\n    };\n    const onDragOver = (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        event.dataTransfer.dropEffect = 'copy';\n        if (isFunction(_onDragOver)) {\n            _onDragOver(event);\n        }\n        const files = Array.from(event.dataTransfer.items).map(({ kind, type }) => ({\n            kind,\n            type,\n        }));\n        const { rejectedFiles } = filterAllowedFiles(files, acceptedFileTypes);\n        setDragState(rejectedFiles.length > 0 ? 'reject' : 'accept');\n    };\n    const onDrop = (event) => {\n        event.preventDefault();\n        event.stopPropagation();\n        setDragState('inactive');\n        const { files, items } = event.dataTransfer;\n        if (isFunction(_onDrop)) {\n            _onDrop(event);\n        }\n        const completeDrop = (files) => {\n            const { acceptedFiles, rejectedFiles } = filterAllowedFiles(files, acceptedFileTypes);\n            if (isFunction(onDropComplete)) {\n                onDropComplete({ acceptedFiles, rejectedFiles });\n            }\n        };\n        if (!items) {\n            completeDrop(Array.from(files));\n        }\n        else {\n            processDroppedItems(Array.from(items)).then(completeDrop);\n        }\n    };\n    return {\n        onDragStart,\n        onDragEnter,\n        onDragLeave,\n        onDragOver,\n        onDrop,\n        dragState,\n    };\n}\n\nexport { useDropZone as default };\n"],"mappings":"AAAA,SAASA,QAAQ,QAAQ,OAAO;AAChC,SAASC,UAAU,QAAQ,iBAAiB;AAC5C,SAASC,kBAAkB,QAAQ,iCAAiC;AACpE,SAASC,mBAAmB,QAAQ,kCAAkC;AAEtE,SAASC,WAAWA,CAAC;EAAEC,cAAc;EAAEC,WAAW,EAAEC,YAAY;EAAEC,WAAW,EAAEC,YAAY;EAAEC,UAAU,EAAEC,WAAW;EAAEC,WAAW,EAAEC,YAAY;EAAEC,MAAM,EAAEC,OAAO;EAAEC,iBAAiB,GAAG;AAAI,CAAC,EAAE;EACzL,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGlB,QAAQ,CAAC,UAAU,CAAC;EACtD,MAAMY,WAAW,GAAIO,KAAK,IAAK;IAC3BA,KAAK,CAACC,YAAY,CAACC,SAAS,CAAC,CAAC;IAC9B,IAAIpB,UAAU,CAACY,YAAY,CAAC,EAAE;MAC1BA,YAAY,CAACM,KAAK,CAAC;IACvB;EACJ,CAAC;EACD,MAAMb,WAAW,GAAIa,KAAK,IAAK;IAC3BA,KAAK,CAACG,cAAc,CAAC,CAAC;IACtBH,KAAK,CAACI,eAAe,CAAC,CAAC;IACvB,IAAItB,UAAU,CAACM,YAAY,CAAC,EAAE;MAC1BA,YAAY,CAACY,KAAK,CAAC;IACvB;EACJ,CAAC;EACD,MAAMX,WAAW,GAAIW,KAAK,IAAK;IAC3BA,KAAK,CAACG,cAAc,CAAC,CAAC;IACtBH,KAAK,CAACI,eAAe,CAAC,CAAC;IACvBL,YAAY,CAAC,UAAU,CAAC;IACxB,IAAIjB,UAAU,CAACQ,YAAY,CAAC,EAAE;MAC1BA,YAAY,CAACU,KAAK,CAAC;IACvB;EACJ,CAAC;EACD,MAAMT,UAAU,GAAIS,KAAK,IAAK;IAC1BA,KAAK,CAACG,cAAc,CAAC,CAAC;IACtBH,KAAK,CAACI,eAAe,CAAC,CAAC;IACvBJ,KAAK,CAACC,YAAY,CAACI,UAAU,GAAG,MAAM;IACtC,IAAIvB,UAAU,CAACU,WAAW,CAAC,EAAE;MACzBA,WAAW,CAACQ,KAAK,CAAC;IACtB;IACA,MAAMM,KAAK,GAAGC,KAAK,CAACC,IAAI,CAACR,KAAK,CAACC,YAAY,CAACQ,KAAK,CAAC,CAACC,GAAG,CAAC,CAAC;MAAEC,IAAI;MAAEC;IAAK,CAAC,MAAM;MACxED,IAAI;MACJC;IACJ,CAAC,CAAC,CAAC;IACH,MAAM;MAAEC;IAAc,CAAC,GAAG9B,kBAAkB,CAACuB,KAAK,EAAET,iBAAiB,CAAC;IACtEE,YAAY,CAACc,aAAa,CAACC,MAAM,GAAG,CAAC,GAAG,QAAQ,GAAG,QAAQ,CAAC;EAChE,CAAC;EACD,MAAMnB,MAAM,GAAIK,KAAK,IAAK;IACtBA,KAAK,CAACG,cAAc,CAAC,CAAC;IACtBH,KAAK,CAACI,eAAe,CAAC,CAAC;IACvBL,YAAY,CAAC,UAAU,CAAC;IACxB,MAAM;MAAEO,KAAK;MAAEG;IAAM,CAAC,GAAGT,KAAK,CAACC,YAAY;IAC3C,IAAInB,UAAU,CAACc,OAAO,CAAC,EAAE;MACrBA,OAAO,CAACI,KAAK,CAAC;IAClB;IACA,MAAMe,YAAY,GAAIT,KAAK,IAAK;MAC5B,MAAM;QAAEU,aAAa;QAAEH;MAAc,CAAC,GAAG9B,kBAAkB,CAACuB,KAAK,EAAET,iBAAiB,CAAC;MACrF,IAAIf,UAAU,CAACI,cAAc,CAAC,EAAE;QAC5BA,cAAc,CAAC;UAAE8B,aAAa;UAAEH;QAAc,CAAC,CAAC;MACpD;IACJ,CAAC;IACD,IAAI,CAACJ,KAAK,EAAE;MACRM,YAAY,CAACR,KAAK,CAACC,IAAI,CAACF,KAAK,CAAC,CAAC;IACnC,CAAC,MACI;MACDtB,mBAAmB,CAACuB,KAAK,CAACC,IAAI,CAACC,KAAK,CAAC,CAAC,CAACQ,IAAI,CAACF,YAAY,CAAC;IAC7D;EACJ,CAAC;EACD,OAAO;IACHtB,WAAW;IACXN,WAAW;IACXE,WAAW;IACXE,UAAU;IACVI,MAAM;IACNG;EACJ,CAAC;AACL;AAEA,SAASb,WAAW,IAAIiC,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}