{"ast":null,"code":"'use strict';\n\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.amzSdkInvocationIdHeaderMiddlewareFactory = void 0;\nconst libraryUtils_1 = require(\"../../../libraryUtils\");\nconst constants_1 = require(\"./constants\");\n/**\n * Middleware injects a UUID string to `amz-sdk-invocation-id` header.\n * if the header is not set already. This header is helpful to provide\n * observability to group the requests caused by automatic retry.\n *\n * This middleware is standalone because of extra UUID dependency, we will\n * NOT use this middleware for API categories.\n *\n * Ref: https://sdk.amazonaws.com/kotlin/api/smithy-kotlin/api/1.0.9/http-client/aws.smithy.kotlin.runtime.http.operation/-http-operation-context/-sdk-invocation-id.html\n */\nconst amzSdkInvocationIdHeaderMiddlewareFactory = () => next => {\n  return async function amzSdkInvocationIdHeaderMiddleware(request) {\n    if (!request.headers[constants_1.AMZ_SDK_INVOCATION_ID_HEADER]) {\n      request.headers[constants_1.AMZ_SDK_INVOCATION_ID_HEADER] = (0, libraryUtils_1.amplifyUuid)();\n    }\n    return next(request);\n  };\n};\nexports.amzSdkInvocationIdHeaderMiddlewareFactory = amzSdkInvocationIdHeaderMiddlewareFactory;","map":{"version":3,"names":["Object","defineProperty","exports","value","amzSdkInvocationIdHeaderMiddlewareFactory","libraryUtils_1","require","constants_1","next","amzSdkInvocationIdHeaderMiddleware","request","headers","AMZ_SDK_INVOCATION_ID_HEADER","amplifyUuid"],"sources":["C:\\Users\\vinzl\\workspace\\machicoulis\\daily-image-collector\\node_modules\\@aws-amplify\\core\\src\\clients\\middleware\\retry\\amzSdkInvocationIdHeaderMiddleware.ts"],"sourcesContent":["\"use strict\";\n// Copyright Amazon.com, Inc. or its affiliates. All Rights Reserved.\n// SPDX-License-Identifier: Apache-2.0\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.amzSdkInvocationIdHeaderMiddlewareFactory = void 0;\nconst libraryUtils_1 = require(\"../../../libraryUtils\");\nconst constants_1 = require(\"./constants\");\n/**\n * Middleware injects a UUID string to `amz-sdk-invocation-id` header.\n * if the header is not set already. This header is helpful to provide\n * observability to group the requests caused by automatic retry.\n *\n * This middleware is standalone because of extra UUID dependency, we will\n * NOT use this middleware for API categories.\n *\n * Ref: https://sdk.amazonaws.com/kotlin/api/smithy-kotlin/api/1.0.9/http-client/aws.smithy.kotlin.runtime.http.operation/-http-operation-context/-sdk-invocation-id.html\n */\nconst amzSdkInvocationIdHeaderMiddlewareFactory = () => next => {\n    return async function amzSdkInvocationIdHeaderMiddleware(request) {\n        if (!request.headers[constants_1.AMZ_SDK_INVOCATION_ID_HEADER]) {\n            request.headers[constants_1.AMZ_SDK_INVOCATION_ID_HEADER] = (0, libraryUtils_1.amplifyUuid)();\n        }\n        return next(request);\n    };\n};\nexports.amzSdkInvocationIdHeaderMiddlewareFactory = amzSdkInvocationIdHeaderMiddlewareFactory;\n"],"mappings":";;AACA;AACA;AACAA,MAAM,CAACC,cAAc,CAACC,OAAO,EAAE,YAAY,EAAE;EAAEC,KAAK,EAAE;AAAI,CAAE,CAAC;AAC7DD,OAAO,CAACE,yCAAyC,GAAG,MAAM;AAC1D,MAAMC,cAAc,GAAGC,OAAO,CAAC,uBAAuB,CAAC;AACvD,MAAMC,WAAW,GAAGD,OAAO,CAAC,aAAa,CAAC;AAC1C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAMF,yCAAyC,GAAGA,CAAA,KAAMI,IAAI,IAAI;EAC5D,OAAO,eAAeC,kCAAkCA,CAACC,OAAO,EAAE;IAC9D,IAAI,CAACA,OAAO,CAACC,OAAO,CAACJ,WAAW,CAACK,4BAA4B,CAAC,EAAE;MAC5DF,OAAO,CAACC,OAAO,CAACJ,WAAW,CAACK,4BAA4B,CAAC,GAAG,IAAIP,cAAc,CAACQ,WAAW,GAAG;IACzG;IACQ,OAAOL,IAAI,CAACE,OAAO,CAAC;EAC5B,CAAK;AACL,CAAC;AACDR,OAAO,CAACE,yCAAyC,GAAGA,yCAAyC","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}